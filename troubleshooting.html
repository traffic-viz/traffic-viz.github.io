

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <title>Troubleshooting &mdash; traffic  documentation</title>
  

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="_static/main_stylesheet.css" type="text/css" />

  
  
    <link rel="shortcut icon" href="_static/favicon.ico"/>
  

  
  

  

  
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/doctools.js"></script>
        <script src="https://cdn.jsdelivr.net/npm/vega@5"></script>
        <script src="https://cdn.jsdelivr.net/npm/vega-lite@4"></script>
        <script src="https://cdn.jsdelivr.net/npm/vega-embed@6"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
        <script src="https://unpkg.com/@jupyter-widgets/html-manager/dist/embed-amd.js"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Running traffic in a Docker container" href="docker.html" />
    <link rel="prev" title="Installation" href="installation.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="index.html" class="icon icon-home"> traffic
          

          
            
            <img src="_static/logo_traffic.png" class="logo" alt="Logo"/>
          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="installation.html">Installation</a><ul class="current">
<li class="toctree-l2 current"><a class="current reference internal" href="#">Troubleshooting</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#i-can-t-access-resources-from-the-internet-as-i-am-behind-a-proxy">I can’t access resources from the Internet as I am behind a proxy</a></li>
<li class="toctree-l3"><a class="reference internal" href="#python-crashes-when-i-try-to-reproduce-plots-in-the-documentation">Python crashes when I try to reproduce plots in the documentation</a></li>
<li class="toctree-l3"><a class="reference internal" href="#widgets-do-not-display-in-jupyter-lab-or-jupyter-notebook">Widgets do not display in Jupyter Lab or Jupyter Notebook</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="docker.html">Running traffic in a Docker container</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="quickstart.html">Quickstart</a></li>
<li class="toctree-l1"><a class="reference internal" href="core_structure.html">Core structure</a></li>
<li class="toctree-l1"><a class="reference internal" href="data.html">Sources of data</a></li>
<li class="toctree-l1"><a class="reference internal" href="algorithms.html">Algorithms</a></li>
<li class="toctree-l1"><a class="reference internal" href="export.html">Exporting and storing data</a></li>
<li class="toctree-l1"><a class="reference internal" href="advanced.html">Advanced usage</a></li>
<li class="toctree-l1"><a class="reference internal" href="gallery.html">Example Gallery</a></li>
<li class="toctree-l1"><a class="reference internal" href="scenarios.html">Scenarios and use cases</a></li>
<li class="toctree-l1"><a class="reference internal" href="publications.html">Publications</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">traffic</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content style-external-links">
        
          

















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html" class="icon icon-home"></a> &raquo;</li>
        
          <li><a href="installation.html">Installation</a> &raquo;</li>
        
      <li>Troubleshooting</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="_sources/troubleshooting.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="troubleshooting">
<h1>Troubleshooting<a class="headerlink" href="#troubleshooting" title="Permalink to this headline">¶</a></h1>
<p>The following reported problems are not about the traffic library per
se. Some are related to limitations set by dependencies.</p>
<div class="section" id="i-can-t-access-resources-from-the-internet-as-i-am-behind-a-proxy">
<h2>I can’t access resources from the Internet as I am behind a proxy<a class="headerlink" href="#i-can-t-access-resources-from-the-internet-as-i-am-behind-a-proxy" title="Permalink to this headline">¶</a></h2>
<p>All network accesses are made with the <a class="reference external" href="https://requests.readthedocs.io/">requests</a> library (or the <a class="reference external" href="http://www.paramiko.org/">paramiko</a> library for the Impala shell). Usually, if your
environment variables are properly set, you should not encounter any particular
proxy issue. However, there are always situations where it may help to manually
force the proxy settings in the configuration file.</p>
<p>Edit your configuration file (you may find where it is located in
traffic.config_file) and add the following section. Uncomment and edit options
according to your network configuration.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1">## This sections contains all the specific options necessary to fit your</span>
<span class="c1">## network configuration (including proxy and ProxyCommand settings)</span>
<span class="p">[</span><span class="n">network</span><span class="p">]</span>

<span class="c1">## input here the arguments you need to pass as is to requests</span>
<span class="c1"># http.proxy = http://proxy.company:8080</span>
<span class="c1"># https.proxy = http://proxy.company:8080</span>
<span class="c1"># http.proxy = socks5h://localhost:1234</span>
<span class="c1"># https.proxy = socks5h://localhost:1234</span>

<span class="c1">## input here the ProxyCommand you need to login to the Impala Shell</span>
<span class="c1">## WARNING:</span>
<span class="c1">##    Do not use %h and %p wildcards.</span>
<span class="c1">##    Write data.opensky-network.org and 2230 explicitly instead</span>
<span class="c1"># ssh.proxycommand = ssh -W data.opensky-network.org:2230 proxy_ip:proxy_port</span>
<span class="c1"># ssh.proxycommand = connect.exe -H proxy_ip:proxy_port data.opensky-network.org 2230</span>
</pre></div>
</div>
</div>
<div class="section" id="python-crashes-when-i-try-to-reproduce-plots-in-the-documentation">
<h2>Python crashes when I try to reproduce plots in the documentation<a class="headerlink" href="#python-crashes-when-i-try-to-reproduce-plots-in-the-documentation" title="Permalink to this headline">¶</a></h2>
<p>(or, “My Jupyter kernel crashes…”)</p>
<p>There must be something wrong with your Cartopy and/or shapely installation.
These libraries strongly depend on the <code class="docutils literal notranslate"><span class="pre">geos</span></code> and <code class="docutils literal notranslate"><span class="pre">proj</span></code> libraries. You
must have shapely and Cartopy versions matching the correct versions of these
libraries.</p>
<p>The problem is sometimes hard to understand, and you may end up fixing it
without really knowing how.</p>
<p>If you don’t know how to install these dependencies, start with a <strong>fresh</strong>
Anaconda distribution and install the following libraries <em>the conda way</em>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">conda</span> <span class="n">install</span> <span class="n">cartopy</span> <span class="n">shapely</span>
</pre></div>
</div>
<p>If it still does not work, try something along:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">conda</span> <span class="n">uninstall</span> <span class="n">cartopy</span> <span class="n">shapely</span>
<span class="n">pip</span> <span class="n">uninstall</span> <span class="n">cartopy</span> <span class="n">shapely</span>
<span class="c1"># be sure to remove all previous versions before installing again</span>
<span class="n">conda</span> <span class="n">install</span> <span class="n">cartopy</span> <span class="n">shapely</span>
</pre></div>
</div>
<p>If it still does not work, try again with:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">conda</span> <span class="n">uninstall</span> <span class="n">cartopy</span> <span class="n">shapely</span>
<span class="n">pip</span> <span class="n">uninstall</span> <span class="n">cartopy</span> <span class="n">shapely</span>
<span class="c1"># this forces the recompilation of the packages</span>
<span class="n">pip</span> <span class="n">install</span> <span class="o">--</span><span class="n">no</span><span class="o">-</span><span class="n">binary</span> <span class="p">:</span><span class="nb">all</span><span class="p">:</span> <span class="n">cartopy</span> <span class="n">shapely</span>
</pre></div>
</div>
</div>
<div class="section" id="widgets-do-not-display-in-jupyter-lab-or-jupyter-notebook">
<h2>Widgets do not display in Jupyter Lab or Jupyter Notebook<a class="headerlink" href="#widgets-do-not-display-in-jupyter-lab-or-jupyter-notebook" title="Permalink to this headline">¶</a></h2>
<p>After executing a cell, you may see one of the following output:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">A</span> <span class="n">Jupyter</span> <span class="n">Widget</span>
<span class="c1"># or</span>
<span class="n">Error</span> <span class="n">displaying</span> <span class="n">widget</span>
<span class="c1"># or</span>
<span class="n">HBox</span><span class="p">(</span><span class="n">children</span><span class="o">=</span><span class="p">(</span><span class="n">IntProgress</span><span class="p">(</span><span class="n">value</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="nb">max</span><span class="o">=</span><span class="mi">1</span><span class="p">),</span> <span class="n">HTML</span><span class="p">(</span><span class="n">value</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">)))</span>
<span class="c1"># or</span>
<span class="n">Map</span><span class="p">(</span><span class="n">basemap</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;url&#39;</span><span class="p">:</span> <span class="s1">&#39;https://</span><span class="si">{s}</span><span class="s1">.tile.openstreetmap.org/…</span>
</pre></div>
</div>
<p>You will need to activate the widgets extensions:</p>
<ul>
<li><p>with Jupyter Lab:</p>
<blockquote>
<div><div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">jupyter</span> <span class="n">labextension</span> <span class="n">install</span> <span class="nd">@jupyter</span><span class="o">-</span><span class="n">widgets</span><span class="o">/</span><span class="n">jupyterlab</span><span class="o">-</span><span class="n">manager</span>
<span class="n">jupyter</span> <span class="n">labextension</span> <span class="n">install</span> <span class="n">jupyter</span><span class="o">-</span><span class="n">leaflet</span>
<span class="n">jupyter</span> <span class="n">labextension</span> <span class="n">install</span> <span class="n">keplergl</span><span class="o">-</span><span class="n">jupyter</span>
</pre></div>
</div>
</div></blockquote>
</li>
<li><p>with Jupyter Notebook:</p>
<blockquote>
<div><div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">jupyter</span> <span class="n">nbextension</span> <span class="n">enable</span> <span class="o">--</span><span class="n">py</span> <span class="o">--</span><span class="n">sys</span><span class="o">-</span><span class="n">prefix</span> <span class="n">widgetsnbextension</span>
<span class="n">jupyter</span> <span class="n">nbextension</span> <span class="n">enable</span> <span class="o">--</span><span class="n">py</span> <span class="o">--</span><span class="n">sys</span><span class="o">-</span><span class="n">prefix</span> <span class="n">ipyleaflet</span>
<span class="n">jupyter</span> <span class="n">nbextension</span> <span class="n">enable</span> <span class="o">--</span><span class="n">py</span> <span class="o">--</span><span class="n">sys</span><span class="o">-</span><span class="n">prefix</span> <span class="n">keplergl</span>
</pre></div>
</div>
</div></blockquote>
</li>
</ul>
</div>
</div>


           </div>
           
          </div>
          <footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
        <a href="docker.html" class="btn btn-neutral float-right" title="Running traffic in a Docker container" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
        <a href="installation.html" class="btn btn-neutral float-left" title="Installation" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>
        &#169; Copyright 2018, Xavier Olive.

    </p>
  </div>
    
    
    
    Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>
        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
  
 

<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-412789-3"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'UA-412789-3');
</script>



</body>
</html>