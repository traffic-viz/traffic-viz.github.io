

<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="../">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>How to access ADS-B data from OpenSky history database? &mdash; traffic 2.13.dev6+ga73e278 documentation</title>
      <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=03e43079" />
      <link rel="stylesheet" type="text/css" href="../_static/css/theme.css?v=e59714d7" />
      <link rel="stylesheet" type="text/css" href="../_static/jupyter-sphinx.css" />
      <link rel="stylesheet" type="text/css" href="../_static/thebelab.css" />
      <link rel="stylesheet" type="text/css" href="../_static/main_stylesheet.css?v=c6a171fe" />

  
    <link rel="shortcut icon" href="../_static/favicon.ico"/>
      <script src="../_static/jquery.js?v=5d32c60e"></script>
      <script src="../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
      <script src="../_static/documentation_options.js?v=24326488"></script>
      <script src="../_static/doctools.js?v=9bcbadda"></script>
      <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
      <script src="../_static/thebelab-helper.js"></script>
      <script src="https://cdn.jsdelivr.net/npm/vega@5"></script>
      <script src="https://cdn.jsdelivr.net/npm/vega-lite@4"></script>
      <script src="https://cdn.jsdelivr.net/npm/vega-embed@6"></script>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
      <script src="https://cdn.jsdelivr.net/npm/@jupyter-widgets/html-manager@^1.0.1/dist/embed-amd.js"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="How to decode ADS-B and Mode S data?" href="decode.html" />
    <link rel="prev" title="How to access ADS-B data from OpenSky live API?" href="opensky_rest.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../index.html" class="icon icon-home">
            traffic
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../quickstart.html">Getting started</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tutorial.html">Tutorial sessions</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../user_guide.html">User guide</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="../user_guide.html#sources-of-data">Sources of data</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="samples.html">How to access sample trajectories?</a></li>
<li class="toctree-l3"><a class="reference internal" href="airports.html">How to access airport information?</a></li>
<li class="toctree-l3"><a class="reference internal" href="aircraft.html">How to access aircraft information?</a></li>
<li class="toctree-l3"><a class="reference internal" href="navigation.html">How to access beacons and airways information?</a></li>
<li class="toctree-l3"><a class="reference internal" href="airspaces.html">How to access airspace information?</a></li>
<li class="toctree-l3"><a class="reference internal" href="flightplans.html">How to access flight plan information?</a></li>
<li class="toctree-l3"><a class="reference internal" href="opensky_rest.html">How to access ADS-B data from OpenSky live API?</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">How to access ADS-B data from OpenSky history database?</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#historical-traffic-data">Historical traffic data</a></li>
<li class="toctree-l4"><a class="reference internal" href="#extended-mode-s-ehs">Extended Mode-S (EHS)</a></li>
<li class="toctree-l4"><a class="reference internal" href="#flight-list-by-airport">Flight list by airport</a></li>
<li class="toctree-l4"><a class="reference internal" href="#requests-for-raw-data">Requests for raw data</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="decode.html">How to decode ADS-B and Mode S data?</a></li>
<li class="toctree-l3"><a class="reference internal" href="eurocontrol.html">How to configure EUROCONTROL data files?</a></li>
<li class="toctree-l3"><a class="reference internal" href="export.html">How to export and store trajectory and airspace data?</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../user_guide.html#data-visualisation">Data visualisation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../user_guide.html#good-practices">Good practices</a></li>
<li class="toctree-l2"><a class="reference internal" href="../user_guide.html#navigation-events">Navigation events</a></li>
<li class="toctree-l2"><a class="reference internal" href="../user_guide.html#statistical-analysis">Statistical analysis</a></li>
<li class="toctree-l2"><a class="reference internal" href="../user_guide.html#troubleshooting">Troubleshooting</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../gallery.html">Example gallery</a></li>
<li class="toctree-l1"><a class="reference internal" href="../api_reference.html">API reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="../publications.html">Publications</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">traffic</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content style-external-links">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="../user_guide.html">User guide</a></li>
      <li class="breadcrumb-item active">How to access ADS-B data from OpenSky history database?</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../_sources/data_sources/opensky_db.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="how-to-access-ads-b-data-from-opensky-history-database">
<h1>How to access ADS-B data from OpenSky history database?<a class="headerlink" href="#how-to-access-ads-b-data-from-opensky-history-database" title="Link to this heading"></a></h1>
<p>For more advanced request or a dig in further history, you may be
eligible for an direct access to the history database through their
<a class="reference external" href="https://opensky-network.org/impala-guide">Impala</a> shell or Trino database.</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>OpenSky data are subject to particular <a class="reference external" href="https://opensky-network.org/about/terms-of-use">terms of use</a>. In particular, if you plan
to use data for commercial purposes, you should mention it when you ask for
access</p>
</div>
<p>Provided functions are here to help:</p>
<ul class="simple">
<li><p>build appropriate and efficient requests without any SQL knowledge;</p></li>
<li><p>split requests efficiently and store intermediary results in cache
files;</p></li>
<li><p>parse results with pandas and wrap results in appropriate data structures.</p></li>
</ul>
<p>The first thing to do is to put your credentials in your configuration
file. Edit the following lines of your configuration file.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">[</span><span class="n">opensky</span><span class="p">]</span>
<span class="n">username</span> <span class="o">=</span>
<span class="n">password</span> <span class="o">=</span>
</pre></div>
</div>
<p>You can check the path to your configuration file here. The path is
different according to OS versions so do not assume anything and check
the contents of the variable.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span><span class="w"> </span><span class="nn">traffic</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">traffic</span><span class="o">.</span><span class="n">config_file</span>
<span class="go">PosixPath(&#39;/home/xo/.config/traffic/traffic.conf&#39;)</span>
</pre></div>
</div>
<section id="historical-traffic-data">
<h2>Historical traffic data<a class="headerlink" href="#historical-traffic-data" title="Link to this heading"></a></h2>
<dl class="py method">
<dt class="sig sig-object py" id="traffic.data.adsb.opensky.OpenSky.history">
<span class="sig-prename descclassname"><span class="pre">OpenSky.</span></span><span class="sig-name descname"><span class="pre">history</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">start</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">stop</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">callsign</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">icao24</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">serials</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bounds</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">departure_airport</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">arrival_airport</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">airport</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">time_buffer</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cached</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">compress</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">limit</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">selected_columns</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">()</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">return_flight</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#traffic.data.adsb.opensky.OpenSky.history" title="Link to this definition"></a></dt>
<dd><p>Get Traffic from the OpenSky Trino database.</p>
<p>You may pass requests based on time ranges, callsigns, aircraft, areas,
serial numbers for receivers, or airports of departure or arrival.</p>
<p>The method builds appropriate SQL requests, caches results and formats
data into a proper pandas DataFrame. Requests are split by hour (by
default) in case the connection fails.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>start</strong> (<span class="sphinx_autodoc_typehints-type">timelike</span>) – a string (default to UTC), epoch or datetime (native
Python or pandas)</p></li>
<li><p><strong>stop</strong> (<span class="sphinx_autodoc_typehints-type">None | timelike</span>) – a string (default to UTC), epoch or datetime (native Python
or pandas), <em>by default, one day after start</em></p></li>
<li><p><strong>date_delta</strong> – a timedelta representing how to split the requests,
<em>by default: per hour</em></p></li>
</ul>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><span class="sphinx_autodoc_typehints-type">None | Flight | Traffic</span></p>
</dd>
</dl>
<p>More arguments to filter resulting data:</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>callsign</strong> (<span class="sphinx_autodoc_typehints-type">None | str | list[str]</span>) – a string or a list of strings (wildcards
accepted, _ for any character, % for any sequence of characters);</p></li>
<li><p><strong>icao24</strong> (<span class="sphinx_autodoc_typehints-type">None | str | list[str]</span>) – a string or a list of strings identifying the transponder
code of the aircraft;</p></li>
<li><p><strong>serials</strong> (<span class="sphinx_autodoc_typehints-type">None | int | Iterable[int]</span>) – an integer or a list of integers identifying the sensors
receiving the data;</p></li>
<li><p><strong>bounds</strong> (<span class="sphinx_autodoc_typehints-type">None | str | HasBounds | tuple[float, float, float, float]</span>) – sets a geographical footprint. Either an <strong>airspace or
shapely shape</strong> (requires the bounds attribute); or a <strong>tuple of
float</strong> (west, south, east, north);</p></li>
<li><p><strong>selected_columns</strong> (<span class="sphinx_autodoc_typehints-type">tuple[InstrumentedAttribute[Any] | str, …]</span>) – specify the columns you want to retrieve. When
empty, use all columns of the StateVectorsData4 table. You may
escape column names as str. <strong>Always</strong> escape names from the
FlightsData4 table.</p></li>
</ul>
</dd>
</dl>
<p><strong>Airports</strong></p>
<p>The following options build more complicated requests by merging
information from two tables in the Trino database, resp.
<code class="docutils literal notranslate"><span class="pre">state_vectors_data4</span></code> and <code class="docutils literal notranslate"><span class="pre">flights_data4</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>departure_airport</strong> (<span class="sphinx_autodoc_typehints-type">None | str</span>) – a string for the ICAO identifier of the
airport. Selects flights departing from the airport between the two
timestamps;</p></li>
<li><p><strong>arrival_airport</strong> (<span class="sphinx_autodoc_typehints-type">None | str</span>) – a string for the ICAO identifier of the airport.
Selects flights arriving at the airport between the two timestamps;</p></li>
<li><p><strong>airport</strong> (<span class="sphinx_autodoc_typehints-type">None | str</span>) – a string for the ICAO identifier of the airport. Selects
flights departing from or arriving at the airport between the two
timestamps;</p></li>
<li><p><strong>time_buffer</strong> (<span class="sphinx_autodoc_typehints-type">None | str | pd.Timedelta</span>) – (default: None) time buffer used to extend time
bounds for flights in the OpenSky flight tables: requests will get
flights between <code class="docutils literal notranslate"><span class="pre">start</span> <span class="pre">-</span> <span class="pre">time_buffer</span></code> and <code class="docutils literal notranslate"><span class="pre">stop</span> <span class="pre">+</span> <span class="pre">time_buffer</span></code>.
If no airport is specified, the parameter is ignored.</p></li>
</ul>
</dd>
</dl>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<ul class="simple">
<li><p>See <code class="xref py py-meth docutils literal notranslate"><span class="pre">pyopensky.trino.flightlist()</span></code> if you do not need any
trajectory information.</p></li>
<li><p>If both departure_airport and arrival_airport are set, requested
timestamps match the arrival time;</p></li>
<li><p>If airport is set, departure_airport and arrival_airport cannot be
specified (a RuntimeException is raised).</p></li>
</ul>
</div>
<p><strong>Useful options for debug</strong></p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>cached</strong> (<span class="sphinx_autodoc_typehints-type">bool</span>) – (default: True) switch to False to force a new request to
the database regardless of the cached files. This option also
deletes previous cache files;</p></li>
<li><p><strong>compress</strong> (<span class="sphinx_autodoc_typehints-type">bool</span>) – (default: False) compress cache files. Reduces disk
space occupied at the expense of slightly increased time
to load.</p></li>
<li><p><strong>limit</strong> (<span class="sphinx_autodoc_typehints-type">None | int</span>) – maximum number of records requested, LIMIT keyword in SQL.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<section id="examples-of-requests">
<h3>Examples of requests<a class="headerlink" href="#examples-of-requests" title="Link to this heading"></a></h3>
<p>First, the <cite>opensky</cite> instance parses your configuration file upon import:</p>
<div class="jupyter_cell jupyter_container docutils container">
<div class="cell_input code_cell docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">traffic.data</span><span class="w"> </span><span class="kn">import</span> <span class="n">opensky</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
</div>
</div>
<p>Then you may send requests:</p>
<ul>
<li><p>based on callsign:</p>
<blockquote>
<div><div class="jupyter_cell jupyter_container docutils container">
<div class="cell_input code_cell docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">flight</span> <span class="o">=</span> <span class="n">opensky</span><span class="o">.</span><span class="n">history</span><span class="p">(</span>
    <span class="s2">&quot;2017-02-05 15:45&quot;</span><span class="p">,</span>
    <span class="n">stop</span><span class="o">=</span><span class="s2">&quot;2017-02-05 16:45&quot;</span><span class="p">,</span>
    <span class="n">callsign</span><span class="o">=</span><span class="s2">&quot;EZY158T&quot;</span><span class="p">,</span>
    <span class="c1"># returns a Flight instead of a Traffic</span>
    <span class="n">return_flight</span><span class="o">=</span><span class="kc">True</span>
<span class="p">)</span>
<span class="n">flight</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><h4><b>Flight</b></h4><ul><li><b>callsign:</b> EZY158T   </li><li><b>aircraft:</b> <code>406d95</code> · 🇬🇧 G-EZOP (A320)</li><li><b>start:</b> 2017-02-05 15:45:00+00:00</li><li><b>stop:</b> 2017-02-05 16:45:00+00:00</li><li><b>duration:</b> 0 days 01:00:00</li><li><b>sampling rate:</b> 1 second(s)</li></ul><div style="white-space: nowrap"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="300" height="300" viewBox="-41742.08743492997 -102078.271848861 83664.40614331022 204248.7608911855" preserveAspectRatio="xMinYMin meet"><g transform="matrix(1,0,0,-1,0,92.2171934634971)"><polyline fill="none" stroke="#66cc99" stroke-width="1361.6584059412367" points="23393.133394078523,94605.72012042874 22485.42582227467,82646.85580109038 21012.458415547862,64446.95824378097 18086.092822546434,27148.27126787981 17939.134419894595,26164.932635935536 17745.200821269347,25356.3302570786 17512.170879034376,24679.119074299135 16744.834916812742,22881.888531729135 16418.092074730444,21817.34365366709 16241.981010237248,20780.260269825412 16196.16579918078,19833.431629907736 16312.780076296936,17961.070624926888 16740.59093062329,14082.094609634922 16891.508831503255,12308.049190710368 17741.687718234996,-6370.1171104724 18681.728951244466,-21741.809733712023 19283.766784945725,-29954.677543176273 19462.261639166027,-31184.95246189301 19770.63102476003,-32632.78229817751 21419.714707658677,-38757.95104739998 23915.612062394863,-48678.26020640428 24146.54810101235,-49816.78262202416 24302.482482161762,-51105.056285963256 24355.960089767872,-52734.225748637786 24322.046552852866,-55517.96000494533 24182.781880540642,-56952.80783330802 23887.327562004637,-58994.6822144628 23718.626525814198,-59945.20945009001 23453.880056668724,-61009.17252303339 22116.570488452697,-65331.844873496724 21853.679203740936,-65943.13741914992 21248.770066547906,-66943.27071396928 18723.662453007102,-70385.25322498265 18332.880280911668,-70753.57023793652 17915.343461302455,-71034.00717738816 17407.563937157483,-71242.24205130093 16878.270524302818,-71331.53057103064 16226.944699783042,-71327.9743356099 14638.035940388836,-71176.48214590017 8219.373929974285,-70385.77838509802 7223.815866525455,-70205.90158690659 6048.474367752917,-69800.961670335 2410.571586830265,-68295.63442158214 2066.477417130423,-68099.20265607616 1569.983883955583,-67713.13952390695 886.0690930225699,-67013.27946252881 -77.0253975149728,-65854.73689522804 -2547.9786024167747,-62606.35156772445 -12147.698021559963,-49859.69940608219 -15215.751895239182,-45705.974864975215 -16489.888985928515,-44148.462131363616 -18917.101742893687,-41423.8250808136 -19103.075646132747,-41125.171383832494 -19325.764006126472,-40558.802725337744 -19408.442242930534,-39908.60687274177 -19359.205744892228,-39374.14717083672 -19235.575655870063,-38876.542725376086 -18976.69984402954,-38299.317980438616 -18640.622642009504,-37789.71811590035 -18231.126528656776,-37339.27243346854 -17815.09243065551,-36988.30847170957 -17296.866802973273,-36658.96619508322 -15805.963761274605,-35986.256727046304 -9669.935759804319,-33555.26905298895 -8929.134824622008,-33379.483684016646 -8275.934291631072,-33314.20501872697 -7468.5901621973335,-33355.8559179256 -6846.451070050573,-33473.51889764016 -6273.944446103793,-33657.63348186667 -5730.846752010217,-33901.85013583343 -5170.518110117694,-34243.111770314244 -4658.171833420347,-34631.45085919185 729.5813681690179,-39479.921606270036 1429.6494381341083,-40155.537884639 2058.031368140893,-40845.240553999574 8384.466857954432,-48303.98760977437 8859.47621967135,-48918.82553047591 9386.433899803524,-49752.269880860316 9804.899464897479,-50516.346558360485 12337.153050959208,-55384.67034604435 12714.132273927575,-56387.42648371597 13166.26578454599,-58051.82854846033 15693.038313117511,-67949.16264557783 15803.031290684157,-68554.14932194287 15824.616153585292,-68935.55537274745 15809.245849439887,-69358.34071271973 15707.892877905799,-69866.58494075162 15594.152480318218,-70191.5847701749 15342.615470970279,-70676.12033466938 14845.028442220579,-71393.25952775692 13016.373944044957,-73829.31943127733 12577.415997469512,-74272.64325213364 12398.886545145546,-74398.14452762945 11970.128289051023,-74595.4707040331 11532.870925121832,-74666.1513588883 11170.584473412884,-74631.16557353217 10687.856952626118,-74473.51446152903 5367.5525539653745,-71835.96416368854 4746.558787499601,-71419.37994882689 4238.283189134849,-70953.27175711047 3644.2595382595687,-70265.54020458151 2547.4166518294105,-68862.29417058919 -11786.77227855555,-49834.917018918364 -13313.652900979567,-47695.74754893761 -14125.860637661179,-46712.39170160479 -14547.760713584132,-46416.468603255766 -15037.611090777264,-46239.16352187167 -15870.727457838815,-46076.87415223935 -17658.423200709327,-45849.94051123786 -19142.092435712202,-45733.41353567851 -21155.13882565254,-45648.3410064819 -24589.020825692107,-45626.17750211962 -28827.020121854417,-45408.53132466995 -29569.10975584057,-45451.04919501618 -30410.099047132946,-45711.75130634324 -31411.769297133458,-46159.789486673675 -32295.552189036865,-46709.9801954405 -32999.49045854004,-47337.245579821014 -33441.20972808934,-47894.549677393385 -33712.62578830154,-48348.374155365025 -33904.760175467956,-48771.55592949219 -34097.69876384199,-49442.58419544215 -34158.37390212235,-49856.51614124503 -34177.31851303421,-50461.61843268543 -34106.573591154316,-51077.525443430146 -34003.105890266095,-51491.86555030953 -33842.3899953355,-51951.49677951299 -33516.00240681436,-52680.50474525877 -30837.64535219244,-57688.51277516867 -29649.325149403878,-59997.74160591614 -21098.02208480252,-77735.04677876896 -19998.30070317322,-80343.20144176036 -17084.94936234303,-87736.94789165464 -16792.266890844792,-88676.74321344869 -16695.56957002899,-89409.33132293259 -16696.965782773437,-89968.75749172522 -16795.009438352987,-90654.65225545579 -17025.21917591063,-91383.30797253762 -17254.878574810875,-91879.22075271234 -17746.49798068507,-92620.78867996378 -18069.16527314775,-92981.00764600986 -18635.03010793152,-93478.7988698534 -19209.88188175945,-93849.5469597787 -19919.98817963954,-94181.05542145498 -20672.72525882204,-94408.9200888784 -21301.50978359626,-94502.2830823539 -21937.704724210256,-94513.50292696524 -22569.799805727936,-94444.16781564431 -23419.193460137187,-94218.86089743812 -23981.54244259282,-93973.7928899574 -24412.735207610454,-93723.72643206993 -24857.83747554369,-93401.69123384028 -25258.51021785731,-93038.16008991527 -25509.05907329457,-92712.67433118088 -25673.750025018988,-92361.13197012615 -25764.404338605364,-91970.82262771447 -25780.472621112352,-91780.95195116437 -25724.220752861293,-91190.01919625717 -25579.06427498479,-90730.27486289767 -25286.84760787393,-90206.26254702837 -24927.602574127544,-89775.92644050882 -24594.321659339927,-89476.49775203445 -24266.745437254398,-89243.74968682212 -23778.324029590924,-88981.04464419736 -23219.63297587272,-88773.54324785074 -22560.81935393239,-88630.98306843822 -21635.285002519282,-88581.45929962494 -20629.541320903172,-88660.92317656484 -14268.625989518523,-89486.14836863484 -5541.178892431629,-90546.7256844633 2447.1941127697955,-91697.93675556232 3247.647168262213,-91776.55333394911 4200.743111128459,-91773.35077870861 5118.913643830828,-91650.65530605716 11580.54283400264,-90249.11307138066 23268.43088084765,-87858.88420108534 34357.549786484495,-85532.65741348643" opacity="0.8" /></g></svg></div></div></div>
</div>
</div></blockquote>
</li>
<li><p>based on bounding box:</p>
<blockquote>
<div><div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># two hours of traffic over LFBB FIR</span>
<span class="n">t_lfbb</span> <span class="o">=</span> <span class="n">opensky</span><span class="o">.</span><span class="n">history</span><span class="p">(</span>
    <span class="s2">&quot;2018-10-01 11:00&quot;</span><span class="p">,</span>
    <span class="s2">&quot;2018-10-01 13:00&quot;</span><span class="p">,</span>
    <span class="n">bounds</span><span class="o">=</span><span class="n">eurofirs</span><span class="p">[</span><span class="s1">&#39;LFBB&#39;</span><span class="p">]</span>
<span class="p">)</span>
</pre></div>
</div>
</div></blockquote>
</li>
<li><p>based on airports and callsigns (with wildcard):</p>
<blockquote>
<div><div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Airbus test flights from and to Toulouse airport</span>
<span class="n">t_aib</span> <span class="o">=</span> <span class="n">opensky</span><span class="o">.</span><span class="n">history</span><span class="p">(</span>
    <span class="s2">&quot;2019-11-01 09:00&quot;</span><span class="p">,</span>
    <span class="s2">&quot;2019-11-01 12:00&quot;</span><span class="p">,</span>
    <span class="n">departure_airport</span><span class="o">=</span><span class="s2">&quot;LFBO&quot;</span><span class="p">,</span>
    <span class="n">arrival_airport</span><span class="o">=</span><span class="s2">&quot;LFBO&quot;</span><span class="p">,</span>
    <span class="n">callsign</span><span class="o">=</span><span class="s2">&quot;AIB%&quot;</span><span class="p">,</span>
<span class="p">)</span>
</pre></div>
</div>
</div></blockquote>
</li>
<li><p>based on airport (with origin/destination ICAO id):</p>
<blockquote>
<div><div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># flights from and to Zurich airport</span>
<span class="n">t_lszh</span> <span class="o">=</span> <span class="n">opensky</span><span class="o">.</span><span class="n">history</span><span class="p">(</span>
    <span class="n">start</span><span class="o">=</span><span class="s2">&quot;2024-03-15 09:00&quot;</span><span class="p">,</span>
    <span class="n">stop</span><span class="o">=</span><span class="s2">&quot;2024-03-15 11:00&quot;</span><span class="p">,</span>
    <span class="n">airport</span><span class="o">=</span><span class="s2">&quot;LSZH&quot;</span><span class="p">,</span>
    <span class="n">selected_columns</span><span class="o">=</span><span class="p">(</span>
        <span class="c1"># colums from StateVector4 (quoted or not)</span>
        <span class="n">StateVectorsData4</span><span class="o">.</span><span class="n">time</span><span class="p">,</span>
        <span class="s1">&#39;icao24&#39;</span><span class="p">,</span> <span class="s1">&#39;lat&#39;</span><span class="p">,</span> <span class="s1">&#39;lon&#39;</span><span class="p">,</span> <span class="s1">&#39;velocity&#39;</span><span class="p">,</span> <span class="s1">&#39;heading&#39;</span><span class="p">,</span> <span class="s1">&#39;vertrate&#39;</span><span class="p">,</span>
        <span class="s1">&#39;callsign&#39;</span><span class="p">,</span> <span class="s1">&#39;onground&#39;</span><span class="p">,</span> <span class="s1">&#39;alert&#39;</span><span class="p">,</span> <span class="s1">&#39;spi&#39;</span><span class="p">,</span> <span class="s1">&#39;squawk&#39;</span><span class="p">,</span> <span class="s1">&#39;baroaltitude&#39;</span><span class="p">,</span>
        <span class="s1">&#39;geoaltitude&#39;</span><span class="p">,</span> <span class="s1">&#39;lastposupdate&#39;</span><span class="p">,</span> <span class="s1">&#39;lastcontact&#39;</span><span class="p">,</span> <span class="s1">&#39;serials&#39;</span><span class="p">,</span> <span class="s1">&#39;hour&#39;</span><span class="p">,</span>
        <span class="c1"># (some) columns from FlightsData4: always quoted!</span>
        <span class="c1"># returned as columns &#39;estdepartureairport&#39; and &#39;estarrivalairport&#39;</span>
        <span class="s1">&#39;FlightsData4.estdepartureairport&#39;</span><span class="p">,</span> <span class="s1">&#39;FlightsData4.estarrivalairport&#39;</span><span class="p">),</span>
<span class="p">)</span>
</pre></div>
</div>
</div></blockquote>
</li>
<li><p>based on (own?) receiver’s identifier:</p>
<blockquote>
<div><div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">t_sensor</span> <span class="o">=</span> <span class="n">opensky</span><span class="o">.</span><span class="n">history</span><span class="p">(</span>
    <span class="s2">&quot;2019-11-11 10:00&quot;</span><span class="p">,</span>
    <span class="s2">&quot;2019-11-11 12:00&quot;</span><span class="p">,</span>
    <span class="n">serials</span><span class="o">=</span><span class="mi">1433801924</span><span class="p">,</span>
<span class="p">)</span>
</pre></div>
</div>
</div></blockquote>
</li>
</ul>
</section>
</section>
<section id="extended-mode-s-ehs">
<h2>Extended Mode-S (EHS)<a class="headerlink" href="#extended-mode-s-ehs" title="Link to this heading"></a></h2>
<p>EHS messages are not automatically decoded for you in the OpenSky
Database but you may access them and decode them from your computer.</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p><strong>Some examples here may be outdated</strong>. To our knowledge at this time, only
EHS data <strong>after January 1st 2020</strong> are available!</p>
</div>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<div class="line-block">
<div class="line"><code class="docutils literal notranslate"><span class="pre">Flight.query_ehs()</span></code> messages also takes a dataframe argument to avoid
making possibly numerous requests to the Impala database.</div>
<div class="line">Consider using <a class="reference external" href="#traffic.data.adsb.opensky.OpenSky.extended">opensky.extended()</a> and request all
necessary data, then pass the resulting dataframe as an argument.</div>
</div>
</div>
<dl class="py method">
<dt class="sig sig-object py" id="traffic.data.adsb.opensky.OpenSky.extended">
<span class="sig-prename descclassname"><span class="pre">OpenSky.</span></span><span class="sig-name descname"><span class="pre">extended</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">start</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">stop</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">icao24</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">serials</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bounds</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">callsign</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">departure_airport</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">time_after_departure</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">arrival_airport</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">time_before_arrival</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">airport</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cached</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">compress</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">limit</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">extra_columns</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">()</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#traffic.data.adsb.opensky.OpenSky.extended" title="Link to this definition"></a></dt>
<dd><p>Get raw message from the OpenSky Trino database.</p>
<p>You may pass requests based on time ranges, callsigns, aircraft, areas,
serial numbers for receivers, or airports of departure or arrival.</p>
<p>The method builds appropriate SQL requests, caches results and formats
data into a proper pandas DataFrame. Requests are split by hour (by
default) in case the connection fails.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>start</strong> (<span class="sphinx_autodoc_typehints-type">timelike</span>) – a string (default to UTC), epoch or datetime (native
Python or pandas)</p></li>
<li><p><strong>stop</strong> (<span class="sphinx_autodoc_typehints-type">None | timelike</span>) – a string (default to UTC), epoch or datetime (native Python
or pandas), <em>by default, one day after start</em></p></li>
<li><p><strong>date_delta</strong> – a timedelta representing how to split the requests,
<em>by default: per hour</em></p></li>
</ul>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><span class="sphinx_autodoc_typehints-type">None | RawData</span></p>
</dd>
</dl>
<p>More arguments to filter resulting data:</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>callsign</strong> (<span class="sphinx_autodoc_typehints-type">None | str | list[str]</span>) – a string or a list of strings (wildcards
accepted, _ for any character, % for any sequence of characters);</p></li>
<li><p><strong>icao24</strong> (<span class="sphinx_autodoc_typehints-type">None | str | list[str]</span>) – a string or a list of strings identifying the transponder
code of the aircraft;</p></li>
<li><p><strong>serials</strong> (<span class="sphinx_autodoc_typehints-type">None | int | Iterable[int]</span>) – an integer or a list of integers identifying the sensors
receiving the data;</p></li>
<li><p><strong>bounds</strong> (<span class="sphinx_autodoc_typehints-type">None | HasBounds | tuple[float, float, float, float]</span>) – sets a geographical footprint. Either an <strong>airspace or
shapely shape</strong> (requires the bounds attribute); or a <strong>tuple of
float</strong> (west, south, east, north);</p></li>
</ul>
</dd>
</dl>
<p><strong>Airports</strong></p>
<p>The following options build more complicated requests by merging
information from two tables in the Trino database, resp.
<code class="docutils literal notranslate"><span class="pre">rollcall_replies_data4</span></code> and <code class="docutils literal notranslate"><span class="pre">flights_data4</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>departure_airport</strong> (<span class="sphinx_autodoc_typehints-type">None | str</span>) – a string for the ICAO identifier of the
airport. Selects flights departing from the airport between the two
timestamps;</p></li>
<li><p><strong>arrival_airport</strong> (<span class="sphinx_autodoc_typehints-type">None | str</span>) – a string for the ICAO identifier of the airport.
Selects flights arriving at the airport between the two timestamps;</p></li>
<li><p><strong>airport</strong> (<span class="sphinx_autodoc_typehints-type">None | str</span>) – a string for the ICAO identifier of the airport. Selects
flights departing from or arriving at the airport between the two
timestamps;</p></li>
</ul>
</dd>
</dl>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<ul class="simple">
<li><p>If both departure_airport and arrival_airport are set, requested
timestamps match the arrival time;</p></li>
<li><p>If airport is set, departure_airport and arrival_airport cannot be
specified (a RuntimeException is raised).</p></li>
<li><p>It is not possible at the moment to filter both on airports and on
geographical bounds (help welcome!).</p></li>
</ul>
</div>
<p><strong>Useful options for debug</strong></p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>cached</strong> (<span class="sphinx_autodoc_typehints-type">bool</span>) – (default: True) switch to False to force a new request to
the database regardless of the cached files. This option also
deletes previous cache files;</p></li>
<li><p><strong>compress</strong> (<span class="sphinx_autodoc_typehints-type">bool</span>) – (default: False) compress cache files. Reduces disk
space occupied at the expense of slightly increased time
to load.</p></li>
<li><p><strong>limit</strong> (<span class="sphinx_autodoc_typehints-type">None | int</span>) – maximum number of records requested, LIMIT keyword in SQL.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<section id="id1">
<h3>Examples of requests<a class="headerlink" href="#id1" title="Link to this heading"></a></h3>
<ul>
<li><p>based on transponder identifier (icao24):</p>
<blockquote>
<div><div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">traffic.data.samples</span><span class="w"> </span><span class="kn">import</span> <span class="n">belevingsvlucht</span>

<span class="n">df</span> <span class="o">=</span> <span class="n">opensky</span><span class="o">.</span><span class="n">extended</span><span class="p">(</span>
    <span class="n">belevingsvlucht</span><span class="o">.</span><span class="n">start</span><span class="p">,</span>
    <span class="n">belevingsvlucht</span><span class="o">.</span><span class="n">stop</span><span class="p">,</span>
    <span class="n">icao24</span><span class="o">=</span><span class="n">belevingsvlucht</span><span class="o">.</span><span class="n">icao24</span>
<span class="p">)</span>

<span class="n">enriched</span> <span class="o">=</span> <span class="n">belevingsvlucht</span><span class="o">.</span><span class="n">query_ehs</span><span class="p">(</span><span class="n">df</span><span class="p">)</span>
</pre></div>
</div>
</div></blockquote>
</li>
<li><p>based on geographical bounds:</p>
<blockquote>
<div><div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">traffic.data</span><span class="w"> </span><span class="kn">import</span> <span class="n">eurofirs</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">traffic.data.samples</span><span class="w"> </span><span class="kn">import</span> <span class="n">switzerland</span>

<span class="n">df</span> <span class="o">=</span> <span class="n">opensky</span><span class="o">.</span><span class="n">extended</span><span class="p">(</span>
    <span class="n">switzerland</span><span class="o">.</span><span class="n">start_time</span><span class="p">,</span>
    <span class="n">switzerland</span><span class="o">.</span><span class="n">end_time</span><span class="p">,</span>
    <span class="n">bounds</span><span class="o">=</span><span class="n">eurofirs</span><span class="p">[</span><span class="s1">&#39;LSAS&#39;</span><span class="p">]</span>
<span class="p">)</span>

<span class="n">enriched_ch</span> <span class="o">=</span> <span class="p">(</span>
    <span class="n">switzerland</span>
    <span class="o">.</span><span class="n">filter</span><span class="p">()</span>
    <span class="o">.</span><span class="n">query_ehs</span><span class="p">(</span><span class="n">df</span><span class="p">)</span>
    <span class="o">.</span><span class="n">resample</span><span class="p">(</span><span class="s1">&#39;1s&#39;</span><span class="p">)</span>
    <span class="o">.</span><span class="n">eval</span><span class="p">(</span><span class="n">desc</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="n">max_workers</span><span class="o">=</span><span class="mi">4</span><span class="p">)</span>
<span class="p">)</span>
</pre></div>
</div>
</div></blockquote>
</li>
<li><p>based on airports, together with traffic:</p>
<blockquote>
<div><div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">schiphol</span> <span class="o">=</span> <span class="n">opensky</span><span class="o">.</span><span class="n">history</span><span class="p">(</span>
    <span class="s2">&quot;2019-11-11 12:00&quot;</span><span class="p">,</span>
    <span class="s2">&quot;2019-11-11 14:00&quot;</span><span class="p">,</span>
    <span class="n">airport</span><span class="o">=</span><span class="s2">&quot;EHAM&quot;</span>
<span class="p">)</span>

<span class="n">df</span> <span class="o">=</span> <span class="n">opensky</span><span class="o">.</span><span class="n">extended</span><span class="p">(</span>
    <span class="s2">&quot;2019-11-11 12:00&quot;</span><span class="p">,</span>
    <span class="s2">&quot;2019-11-11 14:00&quot;</span><span class="p">,</span>
    <span class="n">airport</span><span class="o">=</span><span class="s2">&quot;EHAM&quot;</span>
<span class="p">)</span>

<span class="n">enriched_eham</span> <span class="o">=</span> <span class="p">(</span>
    <span class="n">schiphol</span>
    <span class="o">.</span><span class="n">filter</span><span class="p">()</span>
    <span class="o">.</span><span class="n">query_ehs</span><span class="p">(</span><span class="n">df</span><span class="p">)</span>
    <span class="o">.</span><span class="n">resample</span><span class="p">(</span><span class="s1">&#39;1s&#39;</span><span class="p">)</span>
    <span class="o">.</span><span class="n">eval</span><span class="p">(</span><span class="n">desc</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="n">max_workers</span><span class="o">=</span><span class="mi">4</span><span class="p">)</span>
<span class="p">)</span>
</pre></div>
</div>
</div></blockquote>
</li>
</ul>
</section>
</section>
<section id="flight-list-by-airport">
<h2>Flight list by airport<a class="headerlink" href="#flight-list-by-airport" title="Link to this heading"></a></h2>
<dl class="py method">
<dt class="sig sig-object py" id="traffic.data.adsb.opensky.OpenSky.flightlist">
<span class="sig-prename descclassname"><span class="pre">OpenSky.</span></span><span class="sig-name descname"><span class="pre">flightlist</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">start</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">stop</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">departure_airport</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">arrival_airport</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">airport</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">callsign</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">icao24</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cached</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">compress</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">limit</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#traffic.data.adsb.opensky.OpenSky.flightlist" title="Link to this definition"></a></dt>
<dd><p>Lists flights departing or arriving at a given airport.</p>
<p>You may pass requests based on time ranges, callsigns, aircraft, areas,
serial numbers for receivers, or airports of departure or arrival.</p>
<p>The method builds appropriate SQL requests, caches results and formats
data into a proper pandas DataFrame. Requests are split by hour (by
default) in case the connection fails.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>start</strong> (<span class="sphinx_autodoc_typehints-type">timelike</span>) – a string (default to UTC), epoch or datetime (native
Python or pandas)</p></li>
<li><p><strong>stop</strong> (<span class="sphinx_autodoc_typehints-type">None | timelike</span>) – a string (default to UTC), epoch or datetime (native Python
or pandas), <em>by default, one day after start</em></p></li>
</ul>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><span class="sphinx_autodoc_typehints-type">None | pd.DataFrame</span></p>
</dd>
</dl>
<p>More arguments to filter resulting data:</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>departure_airport</strong> (<span class="sphinx_autodoc_typehints-type">None | str | list[str]</span>) – a string for the ICAO identifier of the
airport. Selects flights departing from the airport between the two
timestamps;</p></li>
<li><p><strong>arrival_airport</strong> (<span class="sphinx_autodoc_typehints-type">None | str | list[str]</span>) – a string for the ICAO identifier of the airport.
Selects flights arriving at the airport between the two timestamps;</p></li>
<li><p><strong>airport</strong> (<span class="sphinx_autodoc_typehints-type">None | str | list[str]</span>) – a string for the ICAO identifier of the airport. Selects
flights departing from or arriving at the airport between the two
timestamps;</p></li>
<li><p><strong>callsign</strong> (<span class="sphinx_autodoc_typehints-type">None | str | list[str]</span>) – a string or a list of strings (wildcards
accepted, _ for any character, % for any sequence of characters);</p></li>
<li><p><strong>icao24</strong> (<span class="sphinx_autodoc_typehints-type">None | str | list[str]</span>) – a string or a list of strings identifying the transponder
code of the aircraft;</p></li>
</ul>
</dd>
</dl>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<ul class="simple">
<li><p>If both departure_airport and arrival_airport are set, requested
timestamps match the arrival time;</p></li>
<li><p>If airport is set, <code class="docutils literal notranslate"><span class="pre">departure_airport</span></code> and <code class="docutils literal notranslate"><span class="pre">arrival_airport</span></code>
cannot be specified (a RuntimeException is raised).</p></li>
</ul>
</div>
<p><strong>Useful options for debug</strong></p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>cached</strong> (<span class="sphinx_autodoc_typehints-type">bool</span>) – (default: True) switch to False to force a new request to
the database regardless of the cached files. This option also
deletes previous cache files;</p></li>
<li><p><strong>compress</strong> (<span class="sphinx_autodoc_typehints-type">bool</span>) – (default: False) compress cache files. Reduces disk
space occupied at the expense of slightly increased time
to load.</p></li>
<li><p><strong>limit</strong> (<span class="sphinx_autodoc_typehints-type">None | int</span>) – maximum number of records requested, LIMIT keyword in SQL.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</section>
<section id="requests-for-raw-data">
<h2>Requests for raw data<a class="headerlink" href="#requests-for-raw-data" title="Link to this heading"></a></h2>
<dl class="py method">
<dt class="sig sig-object py" id="traffic.data.adsb.opensky.OpenSky.rawdata">
<span class="sig-prename descclassname"><span class="pre">OpenSky.</span></span><span class="sig-name descname"><span class="pre">rawdata</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">start</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">stop</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">icao24</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">serials</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bounds</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">callsign</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">departure_airport</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">time_after_departure</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">arrival_airport</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">time_before_arrival</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">airport</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cached</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">compress</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">limit</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">extra_columns</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">()</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#traffic.data.adsb.opensky.OpenSky.rawdata" title="Link to this definition"></a></dt>
<dd><p>Get raw message from the OpenSky Trino database.</p>
<p>You may pass requests based on time ranges, callsigns, aircraft, areas,
serial numbers for receivers, or airports of departure or arrival.</p>
<p>The method builds appropriate SQL requests, caches results and formats
data into a proper pandas DataFrame. Requests are split by hour (by
default) in case the connection fails.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>start</strong> (<span class="sphinx_autodoc_typehints-type">timelike</span>) – a string (default to UTC), epoch or datetime (native
Python or pandas)</p></li>
<li><p><strong>stop</strong> (<span class="sphinx_autodoc_typehints-type">None | timelike</span>) – a string (default to UTC), epoch or datetime (native Python
or pandas), <em>by default, one day after start</em></p></li>
<li><p><strong>date_delta</strong> – a timedelta representing how to split the requests,
<em>by default: per hour</em></p></li>
</ul>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><span class="sphinx_autodoc_typehints-type">None | RawData</span></p>
</dd>
</dl>
<p>More arguments to filter resulting data:</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>callsign</strong> (<span class="sphinx_autodoc_typehints-type">None | str | list[str]</span>) – a string or a list of strings (wildcards
accepted, _ for any character, % for any sequence of characters);</p></li>
<li><p><strong>icao24</strong> (<span class="sphinx_autodoc_typehints-type">None | str | list[str]</span>) – a string or a list of strings identifying the transponder
code of the aircraft;</p></li>
<li><p><strong>serials</strong> (<span class="sphinx_autodoc_typehints-type">None | int | Iterable[int]</span>) – an integer or a list of integers identifying the sensors
receiving the data;</p></li>
<li><p><strong>bounds</strong> (<span class="sphinx_autodoc_typehints-type">None | HasBounds | tuple[float, float, float, float]</span>) – sets a geographical footprint. Either an <strong>airspace or
shapely shape</strong> (requires the bounds attribute); or a <strong>tuple of
float</strong> (west, south, east, north);</p></li>
</ul>
</dd>
</dl>
<p><strong>Airports</strong></p>
<p>The following options build more complicated requests by merging
information from two tables in the Trino database, resp.
<code class="docutils literal notranslate"><span class="pre">rollcall_replies_data4</span></code> and <code class="docutils literal notranslate"><span class="pre">flights_data4</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>departure_airport</strong> (<span class="sphinx_autodoc_typehints-type">None | str</span>) – a string for the ICAO identifier of the
airport. Selects flights departing from the airport between the two
timestamps;</p></li>
<li><p><strong>arrival_airport</strong> (<span class="sphinx_autodoc_typehints-type">None | str</span>) – a string for the ICAO identifier of the airport.
Selects flights arriving at the airport between the two timestamps;</p></li>
<li><p><strong>airport</strong> (<span class="sphinx_autodoc_typehints-type">None | str</span>) – a string for the ICAO identifier of the airport. Selects
flights departing from or arriving at the airport between the two
timestamps;</p></li>
</ul>
</dd>
</dl>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<ul class="simple">
<li><p>If both departure_airport and arrival_airport are set, requested
timestamps match the arrival time;</p></li>
<li><p>If airport is set, departure_airport and arrival_airport cannot be
specified (a RuntimeException is raised).</p></li>
<li><p>It is not possible at the moment to filter both on airports and on
geographical bounds (help welcome!).</p></li>
</ul>
</div>
<p><strong>Useful options for debug</strong></p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>cached</strong> (<span class="sphinx_autodoc_typehints-type">bool</span>) – (default: True) switch to False to force a new request to
the database regardless of the cached files. This option also
deletes previous cache files;</p></li>
<li><p><strong>compress</strong> (<span class="sphinx_autodoc_typehints-type">bool</span>) – (default: False) compress cache files. Reduces disk
space occupied at the expense of slightly increased time
to load.</p></li>
<li><p><strong>limit</strong> (<span class="sphinx_autodoc_typehints-type">None | int</span>) – maximum number of records requested, LIMIT keyword in SQL.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="opensky_rest.html" class="btn btn-neutral float-left" title="How to access ADS-B data from OpenSky live API?" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="decode.html" class="btn btn-neutral float-right" title="How to decode ADS-B and Mode S data?" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2022, Xavier Olive.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>  

<!-- Google tag (gtag.js) -->
<script
  async
  src="https://www.googletagmanager.com/gtag/js?id=G-RMZC6Q4BEG"
></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag() {
    dataLayer.push(arguments);
  }
  gtag("js", new Date());
  gtag("config", "G-RMZC6Q4BEG");
</script>



</body>
</html>